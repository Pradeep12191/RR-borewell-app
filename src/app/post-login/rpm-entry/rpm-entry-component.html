<div class="shift-top-30">
    <div class="first-row" fxLayout fxLayoutAlign="space-between center">
        <mat-form-field class="calc-field" fxFlex="13">
            <mat-label>Vehicle</mat-label>
            <mat-select #vehicleSelect (selectionChange)="onVehicleChange()" [(ngModel)]="selectedVehicle"
                placeholder="Vehicle">
                <mat-option [value]="vehicle" *ngFor="let vehicle of vehicles">{{ vehicle.regNo }}</mat-option>
            </mat-select>
        </mat-form-field>
        <div fxLayout="column" class="shift-top-24" fxLayoutGap="5px">
            <div class="font-italic font-14 sub-title">Godown Delivery Pipe</div>
            <button [disabled]="!selectedVehicle || !bookId || !date" (click)="assignVehicle()" mat-raised-button
                color="primary">
                <mat-icon class="m-r-5">local_shipping</mat-icon>
                Pipe
            </button>
        </div>
        <div fxLayout="column" fxLayoutGap="5px" class="shift-top-24">
            <div class="font-italic font-14 sub-title">Godown Delivery Bit</div>
            <button [disabled]="!selectedVehicle || !bookId || !date" (click)="openAssignBitDialog()" mat-raised-button
                color="primary">
                <mat-icon class="m-r-5">local_shipping</mat-icon>
                Bit
            </button>
        </div>
        <div fxLayout="column" fxLayoutGap="5px" class="shift-top-24">
            <div class="font-italic font-14 sub-title">Godown Delivery Hammer</div>
            <button [disabled]="!selectedVehicle || !bookId || !date" (click)="openAssignHammer()" mat-raised-button
                color="primary">
                <mat-icon class="m-r-5">local_shipping</mat-icon>
                Hammer
            </button>
        </div>
        <div fxLayout fxLayoutAlign="center center" fxLayoutGap="16px" fxFlex="20">
            <div fxLayout fxLayoutGap="10px">
                <div fxFlex>Start</div>
                <div fxFlex>:</div>
                <div fxFlex class="bold">{{ (bookStartNo || bookStartNo == '0') ? bookStartNo : '-' }}</div>
            </div>
            <div fxLayout fxLayoutGap="10px">
                <div fxFlex>End</div>
                <div fxFlex>:</div>
                <div fxFlex class="bold">{{ (bookEndNo || bookEndNo == 0) ? bookEndNo : '-' }}</div>
            </div>
        </div>
        <div fxLayout="column" fxLayoutGap="10px" [ngClass]="bookRequired ? 'shift-top-24': ''">
            <div *ngIf="bookRequired">
                <div class="banner text-center">
                    Add a book *
                </div>
            </div>
            <button #addBookBtn [disabled]="!selectedVehicle" (click)="addBook()" mat-raised-button color="primary">Add
                New Book</button>
        </div>
        <div>
            <!-- <mat-checkbox color="primary" [disabled]="!selectedVehicle" labelPosition="before">Rebore</mat-checkbox> -->
        </div>
    </div>
    <div fxLayout fxLayoutAlign="space-between center">
        <div fxFlex="30"></div>
        <div fxlayout fxLayoutGap="25px" fxFlex="40" fxLayoutAlign="center center">
            <div fxLayout fxLayoutGap="5px" fxFlex>
                <div>RPM Entry no</div>
                <div>:</div>
                <div class="bold">{{ (rpmEntryNo || rpmEntryNo == 0) ? rpmEntryNo : '-'}}</div>
            </div>
            <mat-form-field floatLabel="always" (click)="picker.open()" class="calc-field" fxFlex>
                <mat-label>Date</mat-label>
                <input [disabled]="!selectedVehicle" required [(ngModel)]="date" #dateInput placeholder="Select Date"
                    readonly matInput [matDatepicker]="picker">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
        </div>
        <div fxFlex="30" fxLayoutAlign="end">
            <button routerLink="/postlogin/rpmEntryReport" [queryParams]="{'vehicleId': selectedVehicle?.vehicle_id}"
                [disabled]="!selectedVehicle" mat-raised-button color="primary">
                <mat-icon class="m-r-5">library_books</mat-icon>Report
            </button>
        </div>

    </div>

    <div [formGroup]="form">
        <div class="m-b-16">
            <user-details [dateSelected]="dateSelected$" (lastEnter)="onLastUserEnter()" [form]="form.get('user')">
            </user-details>
        </div>
        <mat-card class="m-b-16">
            <div class="m-b-16">
                <div fxLayout fxLayoutGap="25px">
                    <div fxLayout fxLayoutGap="5px" class="font-12">
                        <div class="bold">Last Reset Rpm</div>
                        <div class="bold">:</div>
                        <div>{{ lastResetRpmNo || '-' }}</div>
                    </div>
                    <div fxLayout fxLayoutGap="5px" class="font-12">
                        <div class="bold">Last Reset Date</div>
                        <div class="bold">:</div>
                        <div>{{ lastResetDate || '-' }}</div>
                    </div>
                </div>
            </div>
            <div>
                <div fxFlex fxLayoutAlign="space-between" class="m-r-16">
                    <div fxLayout="column" fxLayoutGap="5px">
                        <div class="font-12">Depth</div>
                        <div class="bold">{{ displayMonthDepth() }}</div>
                    </div>
                    <div fxLayout="column" fxLayoutGap="5px">
                        <div class="font-12">Other Depth</div>
                        <div class="bold">{{ roundValue(getExtraFeet() + getReboreDepth()) }}</div>
                    </div>
                    <div fxLayout="column" fxLayoutGap="5px">
                        <div class="font-12">Total Depth</div>
                        <div class="bold">{{ roundValue(displayMonthDepth() + getExtraFeet() +  getReboreDepth()) }}
                        </div>
                    </div>
                    <div fxLayout="column" fxLayoutGap="5px">
                        <div class="font-12">Average Depth</div>
                        <div class="bold">{{ displayAverageDepth() }}</div>
                    </div>
                    <div fxLayout="column" fxLayoutGap="5px">
                        <div class="font-12">RPM</div>
                        <div class="bold">{{ displayRunningRpm() }}</div>
                    </div>
                    <div fxLayout="column" fxLayoutGap="5px">
                        <div class="font-12">Other RPM</div>
                        <div class="bold">{{ roundValue(getExtraRpm() +  getOtherRpm()) }}</div>
                    </div>
                    <div fxLayout="column" fxLayoutGap="5px">
                        <div class="font-12">Total RPM</div>
                        <div class="bold">{{ roundValue(displayRunningRpm() + getExtraRpm() + getOtherRpm()) }}</div>
                    </div>
                    <div fxLayout="column" fxLayoutGap="5px">
                        <div class="font-12">Total Diesel</div>
                        <div class="bold">{{ displayDieselTotal() }}</div>
                    </div>
                    <div fxLayout="column" fxLayoutGap="5px">
                        <div class="font-12">Average Diesel</div>
                        <div class="bold">{{ displayDieselAvg() }}</div>
                    </div>
                </div>
                <div fxLayoutAlign="center center" fxFlex="7">
                    <button (click)="confirmResetTotal()" mat-icon-button
                        [disabled]="!selectedVehicle || !bookId || !date || !date" color="primary">
                        <mat-icon>refresh</mat-icon>
                    </button>
                </div>
            </div>
        </mat-card>

        <div fxLayout fxLayoutGap="16px" class="m-b-16">
            <mat-card formGroupName="rpm" fxFlex class="custom-card">
                <mat-card-header>
                    <mat-card-title>RPM Details</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <div fxLayout="column">
                        <div fxLayout fxLayoutAlign="start center">
                            <mat-form-field fxFlex="30" class="m-r-16">
                                <mat-select (selectionChange)="onTractorChange($event)" formControlName="trac"
                                    #tractorSelect>
                                    <mat-option value="">Select Tractor</mat-option>
                                    <mat-option *ngFor="let tractor of tractors" [value]="tractor">{{ tractor.no }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <div fxFlex="40" class="font-14">Tractor Start Hour</div>
                            <div class="bold font-16">
                                <ng-container *ngIf="userRole !== 'owner'; else editTracStartHour">
                                    <div
                                        *ngIf="form.get('rpm.tracStartHour').value || form.get('rpm.tracStartHour').value === 0; else hyphenTpl">
                                        {{ form.get('rpm.tracStartHour').value }}
                                    </div>
                                </ng-container>
                                <ng-template #editTracStartHour>
                                    <mat-form-field>
                                        <mat-label>Hour</mat-label>
                                        <input (input)="onTracEndInput()" (keydown.enter)="onRpmInputEnter(tracStartIp)"
                                            #tracStartIp #rpmInput formControlName="tracStartHour" [allowDecimal]="true"
                                            (input)="onRpmEndInput()" type="text" matInput positiveNumber>
                                        <mat-error *ngIf="form.get('rpm.tracEndHour').hasError('tracError')">
                                            End hour Should be greater than start hour
                                        </mat-error>
                                    </mat-form-field>
                                </ng-template>
                            </div>
                        </div>
                        <div fxLayout fxLayoutAlign="start center">
                            <div fxFlex="40">Tractor End Hour</div>
                            <mat-form-field fxFlex="50">
                                <mat-label>Hour</mat-label>
                                <input (input)="onTracEndInput()" (keydown.enter)="onRpmInputEnter(tracEndIp)"
                                    #tracEndIp #rpmInput formControlName="tracEndHour" [allowDecimal]="true"
                                    (input)="onRpmEndInput()" type="text" matInput positiveNumber>
                                <mat-error *ngIf="form.get('rpm.tracEndHour').hasError('tracError')">
                                    End hour Should be greater than start hour
                                </mat-error>
                            </mat-form-field>
                        </div>
                        <div fxLayout fxLayoutAlign="start center">
                            <div fxFlex="40" class="font-14">Start RPM</div>
                            <div class="bold font-16">
                                <div *ngIf="rpmSheet?.rpm?.start || rpmSheet?.rpm?.start === 0; else hyphenTpl">
                                    {{rpmSheet?.rpm?.start}}
                                </div>
                            </div>
                        </div>
                        <div fxLayout fxLayoutAlign="start center">
                            <div fxFlex="40">End RPM</div>
                            <mat-form-field fxFlex="50">
                                <mat-label>RPM</mat-label>
                                <input formControlName="end" [allowDecimal]="true" #rpmEndIp
                                    (keydown.enter)="onRpmInputEnter(rpmEndIp)" #rpmInput (input)="onRpmEndInput()"
                                    type="text" matInput positiveNumber>
                                <mat-error *ngIf="form.get('rpm.end').hasError('rpmError'); else decimalErrorTpl">
                                    End Rpm should be greater than Start Rpm.
                                </mat-error>
                                <ng-template #decimalErrorTpl>
                                    <mat-error *ngIf="form.get('rpm.end').hasError('decimalError')">
                                        End Rpm should have atleast one value after decimal point.
                                    </mat-error>
                                </ng-template>
                            </mat-form-field>
                        </div>
                        <div fxLayout fxLayoutAlign="start center">
                            <div fxFlex="40">
                                Manual RPM
                            </div>
                            <mat-form-field fxFlex="50">
                                <mat-label>RPM</mat-label>
                                <input type="text" [allowDecimal]="true" (input)="onRpmEndInput()"
                                    (keydown.enter)="onRpmInputEnter(manualRpmIp)" #manualRpmIp matInput #rpmInput
                                    positiveNumber formControlName="manual">
                            </mat-form-field>
                        </div>

                        <div fxLayoutAlign="start center" fxLayout class="m-b-16">
                            <div fxFlex="40" class="font-14">Running RPM</div>
                            <div class="bold font-16">
                                <div *ngIf="rpmSheet?.rpm?.running || rpmSheet?.rpm?.running === 0; else hyphenTpl">
                                    {{ rpmSheet?.rpm?.running }}
                                </div>
                            </div>
                        </div>
                        <div fxLayout fxLayoutAlign="start center">
                            <div fxFlex="40" class="font-14">Point Diesel RPM</div>
                            <div class="bold font-16">
                                <div
                                    *ngIf="rpmSheet?.rpm?.point_diesel || rpmSheet?.rpm?.point_diesel === 0; else hyphenTpl">
                                    {{ rpmSheet?.rpm?.point_diesel }}
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
            <mat-card formGroupName="rpm" fxFlex class="custom-card">
                <mat-card-header>
                    <mat-card-title>
                        Service Details
                    </mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <!-- <div fxLayout fxLayoutGap="5px" class="bold font-12">
                        <div fxFlex="10"></div>
                        <div fxFlex="35"></div>
                        <div fxFlex>Previous RPM</div>
                        <div fxFlex>Total RPM</div>
                        <div fxFlex="40px"></div>
                    </div> -->
                    <div fxLayout="column" fxLayoutGap="5px">
                        <div fxLayout fxLayoutGap="5px">
                            <div fxLayoutAlign="start center" fxFlex="10">
                                <span *ngIf="vehicleServiceLimits?.tractor_e_oil_service; else hyphenTpl">
                                    {{ vehicleServiceLimits?.tractor_e_oil_service }}
                                </span>
                            </div>
                            <div fxLayoutAlign="start center" fxFlex="45">Tractor Engine Oil Service</div>
                            <ng-container *ngIf="userRole !== 'owner'; else editEngOil">
                                <div fxLayoutAlign="start center" fxFlex class="bold font-14"
                                    *ngIf="form.get('rpm.tracEngOil').value; else hyphenTpl">
                                    {{ roundValue(form.get('rpm.tracEngOil').value) }}
                                </div>
                            </ng-container>
                            <ng-template #editEngOil>
                                <mat-form-field fxFlex>
                                    <mat-label>Rpm</mat-label>
                                    <input matInput type="text" formControlName="tracEngOil">
                                </mat-form-field>
                            </ng-template>


                            <div fxLayoutAlign="end center">
                                <button [disabled]="!selectedVehicle || !bookId || !date || !form.get('rpm.trac').value"
                                    (click)="confirmServiceCompletion('Tractor Engine Oil', 'e_oil_service', 'tractor')"
                                    mat-icon-button color="primary">
                                    <mat-icon>refresh</mat-icon>
                                </button>
                            </div>
                        </div>
                        <div fxLayout fxLayoutGap="5px">
                            <div fxLayoutAlign="start center" fxFlex="10">
                                <span *ngIf="vehicleServiceLimits?.tractor_g_oil_service; else hyphenTpl">
                                    {{ vehicleServiceLimits?.tractor_g_oil_service }}
                                </span>
                            </div>
                            <div fxLayoutAlign="start center" fxFlex="45">Tractor Gear Oil Service</div>
                            <div fxLayoutAlign="start center" fxFlex class="bold font-14"
                                *ngIf="form.get('rpm.trac').value; else hyphenTpl">
                                {{ roundValue(form.get('rpm.trac').value?.g_oil_service + tracRunningRpm) }}
                            </div>

                            <div fxLayoutAlign="end center">
                                <button [disabled]="!selectedVehicle || !bookId || !date || !form.get('rpm.trac').value"
                                    (click)="confirmServiceCompletion('Tractor Gear Oil', 'g_oil_service', 'tractor')"
                                    mat-icon-button color="primary">
                                    <mat-icon>refresh</mat-icon>
                                </button>
                            </div>
                        </div>
                        <div fxLayout fxLayoutGap="5px">
                            <div fxLayoutAlign="start center" fxFlex="10">
                                <span *ngIf="vehicleServiceLimits?.e_oil_service; else hyphenTpl">
                                    {{ vehicleServiceLimits?.e_oil_service }}
                                </span>
                            </div>
                            <div fxLayoutAlign="start center" fxFlex="45">Engine Oil Service</div>
                            <div fxLayoutAlign="start center" fxFlex class="bold font-14">
                                {{ roundValue(rpmSheet?.service?.e_oil_service + rpmSheet?.rpm?.running) }}
                            </div>

                            <div fxLayoutAlign="end center">
                                <button [disabled]="!selectedVehicle || !bookId || !date" mat-icon-button
                                    color="primary" (click)="confirmServiceCompletion('Engine Oil', 'e_oil_service')">
                                    <mat-icon>refresh</mat-icon>
                                </button>
                            </div>
                        </div>
                        <div fxLayout fxLayoutGap="5px">
                            <div *ngIf="vehicleServiceLimits?.c_oil_service; else hyphenTpl10"
                                [matMenuTriggerFor]="oilServiceMenu" fxLayoutAlign="start center" fxFlex="10"
                                class="m-r-16" class="link-label">
                                <span>
                                    {{activeCompressorOilServiceLimit.limit}}
                                </span>
                                <mat-icon>arrow_drop_down</mat-icon>
                            </div>
                            <!-- <div fxLayoutAlign="start center" fxFlex="10" class="m-r-16">
                                <span *ngIf="vehicleServiceLimits?.c_oil_service; else hyphenTpl">
                                    {{ vehicleServiceLimits?.c_oil_service }}
                                </span>
                            </div> -->
                            <div fxLayoutAlign="start center" fxFlex="45">Compressor Oil Service</div>
                            <div fxLayoutAlign="start center" fxFlex class="bold font-14">
                                {{ roundValue(rpmSheet?.service?.c_oil_service + rpmSheet?.rpm?.running) }}
                            </div>
                            <div fxLayoutAlign="end center">
                                <button [disabled]="!selectedVehicle || !bookId || !date" mat-icon-button
                                    color="primary"
                                    (click)="confirmServiceCompletion('Compressor Oil', 'c_oil_service')">
                                    <mat-icon>refresh</mat-icon>
                                </button>
                            </div>
                        </div>
                        <div fxLayout fxLayoutGap="5px">
                            <div fxLayoutAlign="start center" fxFlex="10" class="m-r-16">
                                <span *ngIf="vehicleServiceLimits?.e_air_filter; else hyphenTpl">
                                    {{ vehicleServiceLimits?.e_air_filter }}
                                </span>
                            </div>
                            <div fxLayoutAlign="start center" fxFlex="45">Engine Air Filter</div>
                            <div fxLayoutAlign="start center" fxFlex class="bold font-14">
                                {{ roundValue(rpmSheet?.service?.e_air_filter + rpmSheet?.rpm?.running) }}
                            </div>
                            <div fxLayoutAlign="end center">
                                <button [disabled]="!selectedVehicle || !bookId || !date" mat-icon-button
                                    color="primary"
                                    (click)="confirmServiceCompletion('Engine Air Filter', 'e_air_filter')">
                                    <mat-icon>refresh</mat-icon>
                                </button>
                            </div>
                        </div>
                        <div fxLayout fxLayoutGap="5px">
                            <div *ngIf="vehicleServiceLimits?.c_air_filter; else hyphenTpl10" [matMenuTriggerFor]="menu"
                                fxLayoutAlign="start center" fxFlex="10" class="m-r-16" class="link-label">
                                <span>
                                    {{activeCompressorAirFilterLimit.limit}}
                                </span>
                                <mat-icon>arrow_drop_down</mat-icon>
                            </div>
                            <div fxLayoutAlign="start center" fxFlex="45">Compressor Air Filter</div>
                            <div fxLayoutAlign="start center" fxFlex class="bold font-14">
                                {{ roundValue(rpmSheet?.service?.c_air_filter + rpmSheet?.rpm?.running) }}
                            </div>
                            <div fxLayoutAlign="end center">
                                <button (click)="confirmServiceCompletion('Compressor Air Filter', 'c_air_filter')"
                                    [disabled]="!selectedVehicle || !bookId || !date" mat-icon-button color="primary">
                                    <mat-icon>refresh</mat-icon>
                                </button>
                            </div>
                        </div>
                        <div fxLayout fxLayoutGap="5px">
                            <div fxLayoutAlign="start center" fxFlex="10" class="m-r-16">
                                <span *ngIf="vehicleServiceLimits?.seperator; else hyphenTpl">
                                    {{ vehicleServiceLimits?.seperator}}
                                </span>
                            </div>
                            <div fxLayoutAlign="start center" fxFlex="45">Seperator</div>
                            <div fxLayoutAlign="start center" fxFlex class="bold font-14">
                                {{ roundValue(rpmSheet?.service?.seperator + rpmSheet?.rpm?.running) }}
                            </div>
                            <div fxLayoutAlign="end center">
                                <button [disabled]="!selectedVehicle || !bookId || !date" mat-icon-button
                                    color="primary" (click)="confirmServiceCompletion('Seperator', 'seperator')">
                                    <mat-icon>refresh</mat-icon>
                                </button>
                            </div>
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>

        <mat-card formGroupName="diesel" class="custom-card m-b-16">
            <mat-card-header>
                <mat-card-title>
                    Diesel
                </mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div fxLayout="column" class="diesel" fxLayoutGap="10px">
                    <div fxLayout class="diesel__header">
                        <div fxFlex class="bold text-center">Compressor</div>
                        <div fxFlex class="bold text-center">Lorry</div>
                        <div fxFlex class="bold text-center">Support</div>
                        <div fxFlex class="bold text-center">Tractor</div>
                        <div fxFlex class="bold text-center">Total</div>
                        <div fxFlex class="bold text-center">Previous Diesel RPM</div>
                        <div fxFlex class="bold text-center">Diesel Avg</div>
                    </div>
                    <div class="diesel__content">
                        <div fxFlex class="b-r">
                            <div class="input-wrapper h-100" fxFlex>
                                <input formControlName="compressor" #dieselInput (keydown.enter)="onDieselEnter(0)"
                                    (input)="updateTotalDiesel('compressor')" type="text" class="h-100"
                                    placeholder="Liter" positiveNumber>
                                <mat-icon class="input-edit-icon">edit</mat-icon>
                                <!-- <label>Count</label> -->
                                <span class="focus-border">
                                    <i></i>
                                </span>
                            </div>
                        </div>
                        <div fxFlex class="b-r">
                            <div class="input-wrapper h-100" fxFlex>
                                <input formControlName="lorry" #dieselInput (keydown.enter)="onDieselEnter(1)"
                                    (input)="updateTotalDiesel()" type="text" class="h-100" placeholder="Liter"
                                    positiveNumber>
                                <mat-icon class="input-edit-icon">edit</mat-icon>
                                <!-- <label>Count</label> -->
                                <span class="focus-border">
                                    <i></i>
                                </span>
                            </div>
                        </div>
                        <div fxFlex class="b-r">
                            <div class="input-wrapper h-100" fxFlex>
                                <input formControlName="support" #dieselInput (keydown.enter)="onDieselEnter(2)"
                                    (input)="updateTotalDiesel()" type="text" class="h-100" placeholder="Liter"
                                    positiveNumber>
                                <mat-icon class="input-edit-icon">edit</mat-icon>
                                <!-- <label>Count</label> -->
                                <span class="focus-border">
                                    <i></i>
                                </span>
                            </div>
                        </div>
                        <div fxFlex class="b-r">
                            <div class="input-wrapper h-100" fxFlex>
                                <input formControlName="tractor" #dieselInput (keydown.enter)="onDieselEnter(3)"
                                    (input)="updateTotalDiesel()" type="text" class="h-100" placeholder="Liter"
                                    positiveNumber>
                                <mat-icon class="input-edit-icon">edit</mat-icon>
                                <!-- <label>Count</label> -->
                                <span class="focus-border">
                                    <i></i>
                                </span>
                            </div>
                        </div>
                        <div fxFlex class="b-r">
                            <div fxLayoutAlign="center center" fxFlex
                                *ngIf="rpmSheet?.diesel?.total || rpmSheet?.diesel?.total === 0; else hyphenTpl">
                                {{ rpmSheet?.diesel?.total }}
                            </div>
                        </div>
                        <div fxFlex class="b-r">
                            <div fxLayoutAlign="center center" fxFlex
                                *ngIf="rpmSheet?.diesel?.previous_rpm || rpmSheet?.diesel?.previous_rpm === 0; else hyphenTpl">
                                {{ rpmSheet?.diesel?.previous_rpm }}
                            </div>
                        </div>
                        <div fxFlex>
                            <div fxLayoutAlign="center center" fxFlex
                                *ngIf="rpmSheet?.diesel?.average || rpmSheet?.diesel?.average === 0; else hyphenTpl">
                                {{ rpmSheet?.diesel?.average}}
                            </div>
                        </div>
                    </div>
                </div>
            </mat-card-content>
        </mat-card>

        <div fxLayout fxLayoutGap="16px" class="m-b-16">
            <mat-card formGroupName="depth" fxFlex class="custom-card">
                <mat-card-header>
                    <mat-card-title>Depth Details</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <div fxLayout="column">
                        <div fxLayout fxLayoutGap="25px" class="label-row">
                            <div fxFlex="35" fxLayoutAlign="start center">Feet Avg</div>
                            <div>
                                <div class="label-container">{{ rpmSheet?.depth?.average }}</div>
                            </div>
                        </div>
                        <div fxLayout fxLayoutGap="25px">
                            <div fxLayoutAlign="start center" fxFlex="35">
                                <mat-form-field class="calc-field" fxFlex>
                                    <mat-select (selectionChange)="onBoreTypeChange()" formControlName="boreType">
                                        <mat-option [value]="bore" *ngFor="let bore of boreTypes">{{ bore.type }}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div fxLayout fxLayoutGap="10px" fxFlex>
                                <ng-container
                                    *ngIf="form.get('depth.boreType').value.type !== 'Air' && form.get('depth.boreType').value.id !== 3; else airTpl">
                                    <mat-form-field
                                        [fxFlex]="form.get('depth.boreType').value.type === 'Rebore' || form.get('depth.boreType').value.id === 4 ? '30' : '100'">
                                        <mat-label>Feet</mat-label>
                                        <input #depthInput type="text" (keydown.enter)="onDepthEnter(0)"
                                            (input)="onDepthInput()" matInput positiveNumber formControlName="bore">
                                    </mat-form-field>
                                    <ng-container
                                        *ngIf="form.get('depth.boreType').value.type === 'Rebore' || form.get('depth.boreType').value.id === 4">
                                        <mat-form-field class="calc-field" fxFlex="25">
                                            <mat-label>Hrs</mat-label>
                                            <input maxlength="2" type="text" matInput positiveNumber
                                                formControlName="boreHrs">
                                        </mat-form-field>
                                        <mat-form-field class="calc-field" fxFlex="25">
                                            <mat-label>Mins</mat-label>
                                            <input maxlength="2" type="text" matInput positiveNumber
                                                formControlName="boreMins">
                                        </mat-form-field>
                                    </ng-container>
                                </ng-container>
                            </div>

                            <ng-template #airTpl>
                                <div fxFlex="100" formGroupName="air" fxLayoutGap="10px">
                                    <mat-form-field class="calc-field" fxFlex="calc(25% - 10px)">
                                        <mat-label>In / Out</mat-label>
                                        <mat-select #airInoutSelect formControlName="inOut">
                                            <mat-option value="In">In</mat-option>
                                            <mat-option value="Out">Out</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                    <mat-form-field class="calc-field" fxFlex="calc(41% - 10px)">
                                        <mat-label>Vehicle</mat-label>
                                        <mat-select formControlName="vehicle" #airVehicle>
                                            <mat-option [value]="vehicle" *ngFor="let vehicle of toVehicles()">
                                                {{ vehicle.regNo }}</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                    <mat-form-field class="calc-field" fxFlex="calc(33% - 10px)">
                                        <mat-label>Rpm No</mat-label>
                                        <input type="text" matInput positiveNumber (keydown.enter)="onDepthEnter(-1)"
                                            formControlName="rpmNo" #airRpmNoInput="matInput">
                                    </mat-form-field>
                                </div>
                            </ng-template>

                        </div>
                        <div fxLayout fxLayoutGap="25px">
                            <div fxLayoutAlign="start center" fxFlex="35">Pipe Erection Feet</div>
                            <mat-form-field fxFlex="60">
                                <mat-label>Feet</mat-label>
                                <input (input)="onDepthInput()" (keydown.enter)="onDepthEnter(1)" #depthInput
                                    formControlName="pipeErection" type="text" matInput positiveNumber>
                            </mat-form-field>
                        </div>
                        <div formGroupName="above" fxFlex fxLayout fxLayoutGap="15px">
                            <!-- <div fxLayoutAlign="start center">
                                Above
                            </div> -->
                            <mat-form-field fxFlex="30" class="calc-field">
                                <mat-label>Above Feet</mat-label>
                                <mat-select formControlName="feet" (selectionChange)="updateExtraFeet()"
                                    #aboveFeetSelect>
                                    <mat-option [value]="rpmHourFeet" *ngFor="let rpmHourFeet of rpmHourFeets">{{
                                        rpmHourFeet.limit }}</mat-option>
                                </mat-select>
                            </mat-form-field>
                            <div fxLayoutAlign="start center" *ngIf="rpmSheet?.depth?.above?.extra_feet > 0"
                                class="bold font-14">{{
                                rpmSheet?.depth?.above?.extra_feet }}</div>
                            <div fxLayoutAlign="start center">Feet</div>
                            <mat-form-field fxFlex="8" class="calc-field">
                                <mat-label>hrs</mat-label>
                                <input type="text" (input)="updateFeetAvg()" (keydown.enter)="onDepthEnter(2)"
                                    maxlength="2" positiveNumber formControlName="hrs" #depthInput matInput>
                            </mat-form-field>
                            <div fxLayoutAlign="start center">hrs</div>
                            <mat-form-field fxFlex="8" class="calc-field">
                                <mat-label>min</mat-label>
                                <input type="text" (input)="updateFeetAvg()" (keydown.enter)="onDepthEnter(3)"
                                    maxlength="2" #depthInput positiveNumber matInput formControlName="min">
                            </mat-form-field>
                            <div fxLayoutAlign="start center">min</div>
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
            <mat-card fxFlex class="custom-card">
                <mat-card-header>
                    <mat-card-title>Bit Details</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <div fxLayout="column">
                        <div fxLayout fxLayoutGap="15px">
                            <!-- <div fxLayoutAlign="start center">TCD no</div> -->
                            <mat-form-field class="calc-field" fxFlex="25">
                                <mat-label>Serial no</mat-label>
                                <mat-select placeholder="Select serial no" #bitSelect
                                    (selectionChange)="updateBitTotalFeet($event.value)" formControlName="bit">
                                    <mat-option value="">Select Bit</mat-option>
                                    <mat-option [value]="bit" *ngFor="let bit of assignedBits">{{
                                        bit.serial_no + ' - ' + bit.bit_no}}</mat-option>
                                </mat-select>
                            </mat-form-field>
                            <div fxLayoutAlign="start center">Bit No</div>
                            <div fxFlex class="font-16 bold" fxLayoutAlign="start center">{{
                                form.get('bit').value?.bit_no }}</div>
                            <div>
                                <button [disabled]="!form.get('bit').value" (click)="finishBit(form.get('bit').value)"
                                    mat-raised-button color="primary">Finish Bit</button>
                            </div>
                        </div>
                        <div fxLayout fxLayoutGap="15px" class="h-40" fxLayoutAlign="start center">
                            <div fxFlex="40">Bit Running Feet</div>
                            <div class="bold font-16">
                                <ng-container
                                    *ngIf="form.get('depth.pipeErection').value && form.get('bit').value; else hyphenTpl">
                                    <div
                                        *ngIf="rpmSheet?.bit?.running_feet ||rpmSheet?.bit?.running_feet === 0; else hyphenTpl">
                                        {{ rpmSheet?.bit?.running_feet }}
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                        <div fxLayout fxLayoutGap="15px" class="h-40" fxLayoutAlign="start center">
                            <div fxLayoutAlign="start center" fxFlex="40">Bit Previous Feet</div>
                            <div class="bold font-16">
                                <div *ngIf="form.get('bit').value; else hyphenTpl">
                                    {{ form.get('bit').value?.previous_feet }}
                                </div>
                            </div>
                        </div>
                        <div fxLayout fxLayoutGap="15px" class="h-40" fxLayoutAlign="start center">
                            <div fxLayoutAlign="start center" fxFlex="40">Total Feet</div>
                            <div class="bold font-16">
                                <ng-container
                                    *ngIf="form.get('depth.pipeErection').value && form.get('bit').value; else hyphenTpl">
                                    <div
                                        *ngIf="rpmSheet?.bit?.total_feet || rpmSheet?.bit?.running_feet === 0; else hyphenTpl">
                                        {{ rpmSheet?.bit?.total_feet }}
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                        <div fxLayout fxLayoutGap="15px">
                            <div fxLayoutAlign="start center" fxFlex="40">Hammer</div>
                            <div fxLayoutAlign="start center" class="bold font-16">
                                <div *ngIf="rpmSheet?.bit?.hammer || rpmSheet?.bit?.hammer === 0; else hyphenTpl">
                                    {{ roundValue(rpmSheet?.bit?.hammer + rpmSheet?.bit?.running_feet) }}
                                </div>
                            </div>
                            <button (click)="confirmServiceCompletion('Hammer', 'hammer', 'bit')" mat-icon-button
                                color="primary" [disabled]="!selectedVehicle || !bookId || !date">
                                <mat-icon>refresh</mat-icon>
                            </button>
                        </div>
                        <div fxLayout fxLayoutGap="15px">
                            <div fxLayoutAlign="start center" fxFlex="40">Piston</div>
                            <div fxLayoutAlign="start center" class="bold font-16">
                                <div *ngIf="rpmSheet?.bit?.piston || rpmSheet?.bit?.piston === 0; else hyphenTpl">
                                    {{ roundValue(rpmSheet?.bit?.piston + rpmSheet?.bit?.running_feet) }}
                                </div>
                            </div>
                            <button (click)="confirmServiceCompletion('Piston', 'piston', 'bit')" mat-icon-button
                                color="primary" [disabled]="!selectedVehicle || !bookId || !date">
                                <mat-icon>refresh</mat-icon>
                            </button>
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
            <mat-card fxFlex class="custom-card">
                <mat-card-header>
                    <mat-card-title>Hammer Details</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <div fxLayout fxLayoutGap="15px">
                        <!-- <div fxLayoutAlign="start center">TCD no</div> -->
                        <mat-form-field class="calc-field" fxFlex="40">
                            <mat-label>Serial no</mat-label>
                            <mat-select formControlName="hammer" #hammerSelect
                                (selectionChange)="updateHammerTotalFeet($event.value)">
                                <mat-option value="">Select Hammer</mat-option>
                                <mat-option [value]="hammer" *ngFor="let hammer of assignedHammers">
                                    {{ hammer.serial_no }}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <div fxFlex></div>
                        <div>
                            <button [disabled]="!form.get('hammer').value"
                                (click)="finishHammer(form.get('hammer').value)" mat-raised-button
                                color="primary">Finish Hammer</button>
                        </div>
                    </div>
                    <div fxLayout fxLayoutGap="15px" class="h-40" fxLayoutAlign="start center">
                        <div fxFlex="50">Hammer Running Feet</div>
                        <div class="bold font-16">
                            <ng-container
                                *ngIf="form.get('depth.pipeErection').value && form.get('hammer').value; else hyphenTpl">
                                <div
                                    *ngIf="rpmSheet?.hammer?.running_feet ||rpmSheet?.hammer?.running_feet === 0; else hyphenTpl">
                                    {{ rpmSheet?.hammer?.running_feet }}
                                </div>
                            </ng-container>
                        </div>
                    </div>
                    <div fxLayout fxLayoutGap="15px" class="h-40" fxLayoutAlign="start center">
                        <div fxLayoutAlign="start center" fxFlex="50">Hammer Previous Feet</div>
                        <div class="bold font-16">
                            <div *ngIf="form.get('hammer').value; else hyphenTpl">
                                {{ form.get('hammer').value?.previous_feet }}
                            </div>
                        </div>
                    </div>
                    <div fxLayout fxLayoutGap="15px" class="h-40" fxLayoutAlign="start center">
                        <div fxLayoutAlign="start center" fxFlex="50">Total Feet</div>
                        <div class="bold font-16">
                            <ng-container
                                *ngIf="form.get('depth.pipeErection').value && form.get('hammer').value; else hyphenTpl">
                                <div
                                    *ngIf="rpmSheet?.hammer?.total_feet || rpmSheet?.hammer?.running_feet === 0; else hyphenTpl">
                                    {{ rpmSheet?.hammer?.total_feet }}
                                </div>
                            </ng-container>
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>

        <mat-card class="custom-card m-b-16">
            <mat-card-header>
                <mat-card-title>
                    Pipe Details
                </mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div class="pipe-header" fxLayout>
                    <div fxFlex="28"></div>
                    <div [fxFlex]="pipeFlex" fxLayoutAlign="center center" class="header-cell bold"
                        *ngFor="let pipe of reversePipes">{{
                        pipe.type }}</div>
                </div>
                <div class="table" (click)="tableClick($event)" fxLayout="column">
                    <div class="row" fxLayout>
                        <div fxFlex="28" fxLayoutAlign="start center" class="cell b-r-0 p-l-10 bold bg-grey">Previous
                            Stock
                            Feet</div>
                        <div fxLayoutAlign="center center" [fxFlex]="pipeFlex"
                            *ngFor="let previousStock of rpmEntryTable.previousStockFeet; let last = last" class="cell"
                            [class.b-r-0]="!last">{{ previousStock.feet || '' }}</div>
                    </div>
                    <div class="row" fxLayout>
                        <div fxFlex="28" fxLayoutAlign="start center"
                            class="cell b-r-0 b-t-0 p-l-10 b-b-0 bold bg-grey">RR
                            Income</div>
                        <div fxLayoutAlign="center center" [fxFlex]="pipeFlex"
                            *ngFor="let rrIncome of rpmEntryTable.rrIncome; let last = last" class="cell b-t-0 b-b-0"
                            [class.b-r-0]="!last">{{ rrIncome.feet || '' }}</div>
                    </div>
                    <div class="row" fxLayout>
                        <div fxFlex="28" fxLayoutAlign="start center" class="cell b-r-0 p-l-10 b-b-0 bold bg-grey">MM
                            Income</div>
                        <div fxLayoutAlign="center center" [fxFlex]="pipeFlex"
                            *ngFor="let mmIncome of rpmEntryTable.mmIncome; let last = last" class="cell b-b-0"
                            [class.b-r-0]="!last">{{ mmIncome.feet || '' }}</div>
                    </div>
                    <div class="row" fxLayout>
                        <div fxFlex="28" fxLayoutAlign="start center" fxLayoutGap="10px"
                            class="cell b-r-0 p-l-10 b-b-0 bold bg-grey">
                            <div fxLayout="column" fxFlex>
                                <div [class.m-t-10]="form.get('isInVehicle').value" fxLayout fxFlex="40">
                                    <mat-checkbox color="primary" formControlName="isInVehicle"
                                        (change)="onCheckChange($event, 'in')">
                                        Vehicle Exchange In
                                    </mat-checkbox>
                                </div>
                                <div *ngIf="form.get('isInVehicle').value" fxLayout fxLayoutGap="10px" fxFlex
                                    class="m-r-16">
                                    <mat-form-field class="calc-field" fxFlex="70">
                                        <mat-label>Select Vehicle</mat-label>
                                        <mat-select (selectionChange)="onExVehicleChange('in')"
                                            formControlName="inVehicle" #inVehicleSelect>
                                            <mat-option [value]="vehicle" *ngFor="let vehicle of vehicles">{{
                                                vehicle.regNo }}</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                    <mat-form-field class="calc-field" fxFlex="30">
                                        <mat-label>Rpm no</mat-label>
                                        <input matInput positiveNumber (keydown.enter)="onExRpmNoEnter('in')"
                                            (input)="onExRpmNoInput('in')" formControlName="inRpmNo"
                                            #inRpmInput="matInput">
                                    </mat-form-field>
                                </div>
                            </div>

                        </div>
                        <div fxLayoutAlign="center center" [fxFlex]="pipeFlex" fxLayoutAlign="center center"
                            formArrayName="vehicleExIn"
                            *ngFor="let ctrl of veicleExInFormArray.controls; let last = last; let index = index"
                            class="cell b-b-0" [class.b-r-0]="!last">
                            <ng-container [formGroup]="ctrl">
                                <div class="input-wrapper h-100" fxFlex>
                                    <input #inFeetInput #feetInput (keydown)="onInputKeyUp($event, 0, index)"
                                        (input)="updateAvailableStock(+ctrl.get('pipeId').value)" type="text"
                                        class="h-100" formControlName="value" placeholder="Feet" positiveNumber
                                        [allowDecimal]="true">
                                    <mat-icon class="input-edit-icon">edit</mat-icon>
                                    <!-- <label>Count</label> -->
                                    <span class="focus-border">
                                        <i></i>
                                    </span>
                                </div>
                            </ng-container>

                        </div>
                    </div>
                    <div class="row" fxLayout>
                        <div fxFlex="28" fxLayoutAlign="start center" fxLayoutGap="10px"
                            class="cell b-r-0 p-l-10 b-b-0 bold bg-grey">
                            <div fxLayout="column" fxFlex>
                                <div [class.m-t-10]="form.get('isOutVehicle').value" fxFlex="40" fxLayout>
                                    <mat-checkbox color="primary" formControlName="isOutVehicle"
                                        (change)="onCheckChange($event, 'out')">
                                        Vehicle Exchange Out
                                    </mat-checkbox>
                                </div>
                                <div *ngIf="form.get('isOutVehicle').value" fxLayout fxLayoutGap="10px" fxFlex
                                    class="m-r-16">
                                    <mat-form-field class="calc-field" fxFlex="70">
                                        <mat-label>Select Vehicle</mat-label>
                                        <mat-select (selectionChange)="onExVehicleChange('out')"
                                            formControlName="outVehicle" #outVehicleSelect>
                                            <mat-option [value]="vehicle" *ngFor="let vehicle of vehicles">{{
                                                vehicle.regNo }}</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                    <mat-form-field class="calc-field" fxFlex="30">
                                        <mat-label>Rpm no</mat-label>
                                        <input matInput (keydown.enter)="onExRpmNoEnter('out')" positiveNumber
                                            (input)="onExRpmNoInput('out')" formControlName="outRpmNo"
                                            #outRpmInput="matInput">
                                    </mat-form-field>
                                </div>
                            </div>

                        </div>
                        <div fxLayoutAlign="center center" [fxFlex]="pipeFlex" fxLayoutAlign="center center"
                            formArrayName="vehicleExOut"
                            *ngFor="let ctrl of veicleExOutFormArray.controls; let last = last; let index = index"
                            class="cell b-b-0" [class.b-r-0]="!last">
                            <ng-container [formGroup]="ctrl">
                                <div class="input-wrapper h-100" fxFlex>
                                    <input type="text" (keydown)="onInputKeyUp($event, 1, index)" #feetInput
                                        #outFeetInput class="h-100"
                                        (input)="updateAvailableStock(+ctrl.get('pipeId').value)"
                                        formControlName="value" placeholder="Feet" positiveNumber [allowDecimal]="true">
                                    <mat-icon class="input-edit-icon">edit</mat-icon>
                                    <!-- <label>Count</label> -->
                                    <span class="focus-border">
                                        <i></i>
                                    </span>
                                </div>
                            </ng-container>

                        </div>
                    </div>
                    <div class="row" fxLayout>
                        <div fxFlex="28" fxLayoutAlign="start center" class="cell b-r-0 p-l-10 b-b-0 bold bg-grey">
                            <mat-checkbox color="primary" formControlName="isDamage"
                                (change)="onCheckChange($event, 'damage')">
                                Damage Feet
                            </mat-checkbox>
                        </div>
                        <div fxLayoutAlign="center center" [fxFlex]="pipeFlex" fxLayoutAlign="center center"
                            formArrayName="damageFeet"
                            *ngFor="let ctrl of damageFeetFormArray.controls; let last = last; let index = index"
                            class="cell b-b-0" [class.b-r-0]="!last">
                            <ng-container [formGroup]="ctrl">
                                <div class="input-wrapper h-100" fxFlex>
                                    <input (keydown)="onInputKeyUp($event, 2, index)" type="text" #feetInput
                                        #damageFeetInput (input)="updateAvailableStock(+ctrl.get('pipeId').value)"
                                        class="h-100" formControlName="value" placeholder="Feet" positiveNumber
                                        [allowDecimal]="true">
                                    <mat-icon class="input-edit-icon">edit</mat-icon>
                                    <!-- <label>Count</label> -->
                                    <span class="focus-border">
                                        <i></i>
                                    </span>
                                </div>
                            </ng-container>

                        </div>
                    </div>
                    <div class="row" fxLayout>
                        <div fxFlex="28" fxLayoutAlign="start center" class="cell b-r-0 p-l-10 b-b-0 bold bg-grey">
                            Available
                            Stock</div>
                        <div fxLayoutAlign="center center" [fxFlex]="pipeFlex"
                            *ngFor="let availableStock of rpmEntryTable.availableStockFeet; let last = last"
                            class="cell b-b-0" [class.b-r-0]="!last">{{ availableStock.feet || '' }}</div>
                    </div>
                    <div class="row" fxLayout>
                        <div fxFlex="28" fxLayoutAlign="start center" class="cell b-r-0 p-l-10 b-b-0 bold bg-grey">Point
                            Expense Feet</div>
                        <div fxLayoutAlign="center center" [fxFlex]="pipeFlex" fxLayoutAlign="center center"
                            formArrayName="pointExpenseFeet"
                            *ngFor="let ctrl of pointExpenseFeetFormArray.controls; let last = last; let index = index"
                            class="cell b-b-0" [class.b-r-0]="!last">
                            <ng-container [formGroup]="ctrl">
                                <div class="input-wrapper h-100" fxFlex>
                                    <input #feetInput (keydown)="onInputKeyUp($event, 3, index, ctrl)" type="text"
                                        (input)="validateAndUpdateBalanceStock(+ctrl.get('pipeId').value, ctrl.get('value'))"
                                        class="h-100" formControlName="value" placeholder="Feet" positiveNumber
                                        [allowDecimal]="true">
                                    <mat-icon class="input-edit-icon">edit</mat-icon>
                                    <!-- <label>Count</label> -->
                                    <span class="focus-border">
                                        <i></i>
                                    </span>
                                </div>
                            </ng-container>

                        </div>
                    </div>
                    <div class="row" fxLayout>
                        <div fxFlex="28" fxLayoutAlign="start center" class="cell b-r-0 p-l-10 bold bg-grey">Balance
                            Stock
                            Feet</div>
                        <div fxLayoutAlign="center center" [fxFlex]="pipeFlex"
                            *ngFor="let balanceStockFeet of rpmEntryTable.balanceStockFeet; let last = last"
                            class="cell" [class.b-r-0]="!last">{{ balanceStockFeet.feet || '' }}</div>
                    </div>
                </div>
                <div fxLayout class="alert p-10 m-b-10 m-t-10" fxLayoutGap="10px"
                    *ngIf="pointExpenseFeetFormArray.invalid">
                    <mat-icon>error_outline</mat-icon>
                    <div fxLayoutAlign="start center">Point Expense should be less than Available Stock Feet</div>
                </div>
            </mat-card-content>
        </mat-card>

        <mat-card class="custom-card m-t-16">
            <mat-card-header>
                <mat-card-title>
                    Remarks
                </mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div [formGroup]="form" fxLayout class="m-t-10">
                    <mat-form-field [appearance]="appearance" fxFlex>
                        <mat-label>Remarks</mat-label>
                        <textarea #remarksInput (keydown)="onInputKeyUp($event, 4, 0)" formControlName="remarks"
                            matInput cols="30" rows="6"></textarea>
                    </mat-form-field>
                </div>
            </mat-card-content>
        </mat-card>
        <div fxLayoutAlign="end" class="m-t-25">
            <div>
                <button
                    [disabled]="!selectedVehicle || !bookId || !date || pointExpenseFeetFormArray.invalid || form.get('rpm.end').invalid || form.get('rpm.tracEndHour').invalid || form.invalid"
                    (click)="submit()" mat-raised-button color="primary" type="button">SUBMIT</button>
            </div>
        </div>
    </div>
</div>

<mat-menu #menu="matMenu">
    <button (click)="onServieLimitSelect(limit, 'c_air_filter')" *ngFor="let limit of compressorAirFilterServiceLimits"
        mat-menu-item>{{limit.limit}}</button>
</mat-menu>
<mat-menu #oilServiceMenu="matMenu">
    <button (click)="onServieLimitSelect(limit, 'c_oil_service')" *ngFor="let limit of compressorOilServiceLimits"
        mat-menu-item>{{limit.limit}}</button>
</mat-menu>

<ng-template #hyphenTpl>
    <div fxFlex fxLayoutAlign="center center">
        <div class="dash"></div>
    </div>
</ng-template>
<ng-template #hyphenTpl10>
    <div fxFlex="10" fxLayoutAlign="center center">
        <div class="dash"></div>
    </div>
</ng-template>